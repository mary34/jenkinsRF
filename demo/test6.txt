*** Settings ***
Documentation     app测试
Library           AppiumLibrary    run_on_failure=AppiumLibrary.CapturePageScreenshot
Library           OperatingSystem
Library           Process

*** Variables ***
${REMOTE_URL}     http://localhost:4723/wd/hub
${PLATFORM_NAME}    Android
${PLATFORM_VERSION}    23
${DEVICE_NAME}    oppo-oppo_r7-S4RGBEL7IBIVZ9Z9    # oppo R7 \\ \ \ \ \ \ \ oppo a59s \ \ - \oppo-oppo_a59s-NVEACIAAT8JFDEJ7
${APP}            D:/Qunar_Spider_C9999_60001007_beta_20171009_1930.apk
${yonghuduan}     D:/yonghuduan.apk

*** Test Cases ***
case1
    [Documentation]    调度端
    [Tags]
    Open Application    ${REMOTE_URL}    platformName=${PLATFORM_NAME}    platformVersion=${PLATFORM_VERSION}    deviceName=${DEVICE_NAME}    appPackage=com.qunar.car.control    appActivity=com.mqunar.splash.SplashActivity
    Wait Until Page Contains    登录    10s
    input text    id=com.mqunar.atom.control.home:id/account_editor    13658089256
    Input Password    id=com.mqunar.atom.control.home:id/passwd_editor    666666
    Click Element    id=com.mqunar.atom.control.home:id/login_btn
    Wait Until Page Contains    点一下就挂    20s
    Click Element    id=com.mqunar.atom.control.home:id/save_btn
    Wait Until Page Contains    接送机
    Close Application
    [Teardown]

case2
    [Documentation]    用户端
    Open Application    ${REMOTE_URL}    platformName=${PLATFORM_NAME}    platformVersion=${PLATFORM_VERSION}    deviceName=${DEVICE_NAME}    appPackage=com.Qunar    appActivity=com.mqunar.splash.SplashActivity
    Wait Until Page Contains    搜索旅行地/酒店/景点    20
    click element    id=com.mqunar.atom.alexhome:id/atom_alexhome_mod_ut
    Wait Until Page Contains    超级巴士    20
    click element    xpath=//android.view.View[@content-desc='超级巴士']
    Wait Until Page Contains    用户评价    20
    click element    xpath=//android.view.View[@content-desc='送火车']
    #click element    xpath=//android.view.View[@content-desc='携程信息技术大楼(天府四街)']
    #Wait Until Page Contains    出发地点    20
    #input text    xpath=//android.view.View/android.view.View[2]/android.widget.EditText[1]    携程信息技术大楼
    #Wait Until Page Contains    天府四街    20
    #click element    xpath=//android.view.View[@content-desc='携程信息技术大楼(天府四街) Heading']
    Wait Until Page Contains    超级巴士送站    20
    click element    xpath=//android.view.View[@content-desc='超级巴士']/android.widget.ListView[3]/android.view.View[4]
    click element    xpath=//android.view.View[@content-desc='确定']
    Wait Until Page Contains    时段内上车    20
    click element    xpath=//android.widget.Button[@content-desc='支付']
    sleep    5s
    Close Application

*** Keywords ***
