*** Settings ***
Documentation     template数据驱动
Test Template     logintest
Library           RequestsLibrary

*** Variables ***
${carinnerbeta}    http://carinnerbeta.qunar.com
${emptyPlace}     ${EMPTY}

*** Test Cases ***
templatetest
    [Tags]
    [Template]    logintest
    #账号    密码    状态码
    13658089256    666666    0
    13658089256    111111    1001
    13658089256    ${emptyPlace}    10001

*** Keywords ***
logintest
    [Arguments]    ${dispAccount}    ${dispPassword}    ${responseCode}
    ${loginData}    Create Dictionary    dispAccount=${dispAccount}    dispPassword=${dispPassword}
    Create session    car    ${carinnerbeta}
    ${loginResp}    Post    car    /carpool/ztc/disp/login    data=${loginData}
    ${loginRespToJson}    to json    ${loginResp.content}
    ${loginRespCode}    convert to string    ${loginRespToJson[u'bstatus'][u'code']}
    Should Be Equal as Strings    ${loginRespCode}    ${responseCode}
